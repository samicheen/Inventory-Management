<app-modal [modalRef]="modalRef" 
            [title]="isEditMode ? 'Edit Processing Type' : 'Add Processing Type'">
    <form [formGroup]="addProcessingTypeForm">
        <div class="form-group">
            <label for="name">Name</label>
            <input type="text"
                    class="form-control"
                    id="name"
                    formControlName="name"
                    placeholder="e.g., S-Cut, Conditioned">
            <div *ngIf="name.touched && name.errors?.required" class="alert alert-danger">
                <div>Name is required.</div>
            </div>
        </div>
        
        <div class="form-group">
            <label for="processing_charge">Processing Charge (Rs./Kg)</label>
            <input appDecimalNumber
                    type="text"
                    class="form-control"
                    id="processing_charge"
                    formControlName="processing_charge"
                    placeholder="0.00">
            <small class="form-text text-muted">Charge per kilogram to be added to base rate</small>
            <div *ngIf="processingCharge.touched && processingCharge.errors?.required" class="alert alert-danger">
                <div>Processing charge is required.</div>
            </div>
            <div *ngIf="processingCharge.touched && processingCharge.errors?.min" class="alert alert-danger">
                <div>Processing charge must be 0 or greater.</div>
            </div>
        </div>
        
        <div class="form-group">
            <label for="description">Description (Optional)</label>
            <textarea class="form-control"
                      id="description"
                      formControlName="description"
                      rows="3"
                      placeholder="Brief description of this processing type"></textarea>
        </div>
        
        <div class="button-group">
            <div class="button-row">
                <button class="btn btn-primary"
                        (click)="addProcessingType()">{{isEditMode ? 'Update Processing Type' : 'Add Processing Type'}}</button>
                <button class="btn btn-secondary"
                        (click)="modalRef.hide()">Cancel</button>
            </div>
        </div>
    </form>
</app-modal>

